/* Algorithm IV Debugger (v1.0.1) (learn@algorithmiv.com)
 * Section: Debug Module
 * Author: Adam Smith (adamsmith@youlum.com)
 * Copyright (c) 2015 Adam A Smith (github.com/imaginate)
 * The MIT License (algorithmiv.com/docs/license) */
(function(m,l){m.aIV=m.aIV||{};aIV.debug=l.newDebug})(window,function(){function m(a){return g(a,"object|function")?"%O":"number"===typeof a?"%i":"%s"}function l(a,b){if("string"!==typeof a||!Array.isArray(b)){console.error("An insertSubstituteStrings method's arg(s) was wrong.");if(f)debugger;return""}b.forEach(function(b,e){var d;d=m(b);a=/(\$\$)/.test(a)?a.replace(/(\$\$)/,d):a+(" var"+e+"= "+d+";")});return a}function g(a,b){var c;if("string"!==typeof b){c="A checkType method's type was the wrong data type. ";
c+="It should be a string. The given type was a(n) %s.";console.error(c,typeof b);if(f)debugger;return!1}b=b.toLowerCase().replace(/[^a-z\|\=\!]/g,"");return(/\|/.test(b)?b.split("|"):[b]).some(function(b){var d;d=b.replace(/\!|\=/g,"");if(!k.types.all.test(d)){c="A checkType method's type was the wrong value. ";c+="See the docs for acceptable values. ";c+="The incorrect value was '%s'.";console.error(c,b);if(f)debugger;return!1}if(void 0===a)return b=b.replace(/\!/g,""),/\=|^undefined$/.test(b);
if(null===a)return!/\!/.test(b);if("undefined"===d)return!1;if(k.types.arrays.test(d)){if(!Array.isArray(a))return!1;if("array"===d)return!0;if("arrays"===d)return a.every(function(a){return Array.isArray(a)});if("elems"===d)return a.every(function(a){return a instanceof HTMLElement});d=d.replace(/s$/,"");return a.every(function(a){return typeof a===d})}if("elem"===d)return a instanceof HTMLElement;if(k.types.basic.test(d))return typeof a===d;if(k.types.maps.test(d)){if("object"!==typeof a)return!1;
if("arraymap"===d)return Object.keys(a).every(function(b){return Array.isArray(a[b])});if("elemmap"===d)return Object.keys(a).every(function(b){return a[b]instanceof HTMLElement});d=d.replace(/map$/,"");return Object.keys(a).every(function(b){return typeof a[b]===d})}return!1})}var p={},n={};p.newDebug=function(a){var b,c;"string"!==typeof a&&"object"!==typeof a&&(a=null);"string"===typeof a?(b=a,a=null):b=a&&a.classTitle&&"string"===typeof a.classTitle?a.classTitle:"unknown";n.hasOwnProperty(b)||
(c=a&&a.turnOffTypes?a.turnOffTypes:null,g(c,"string|strings")||(c=null),a=a&&a.turnOnDebuggers?a.turnOnDebuggers:null,g(a,"string|strings")||(a=null),n[b]=new h(b,c,a),Object.freeze(n[b]));return n[b]};p.newDebug.config=function(a){if("object"!==typeof a){if(console.error("The settings given to aIV.debug.config were incorrrect. They should be an object. They were a(n) %s.",typeof a),f)debugger}else a.hasOwnProperty("errorDebuggers")&&"boolean"===typeof a.errorDebuggers&&(f=a.errorDebuggers)};var f=
!0,k={types:{}};k.types.all=/^string$|^number$|^boolean$|^object$|^array$|^function$|^elem$|^undefined$|^strings$|^numbers$|^booleans$|^objects$|^arrays$|^elems$|^functions$|^stringmap$|^numbermap$|^booleanmap$|^objectmap$|^arraymap$|^functionmap$|^elemmap$/;k.types.basic=/^string$|^number$|^boolean$|^object$|^function$|^elem$|^undefined$/;k.types.arrays=/^array$|^strings$|^numbers$|^booleans$|^objects$|^arrays$|^elems$|^functions$/;k.types.maps=/^stringmap$|^numbermap$|^booleanmap$|^objectmap$|^arraymap$|^functionmap$|^elemmap$/;
var h=function(a,b,c){a+=".";Array.isArray(b)&&(b=b.join(" "));Array.isArray(c)&&(c=c.join(" "));b&&(b=b.toLowerCase());c&&(c=c.toLowerCase());var e={start:!b||!/start|all/.test(b),args:!b||!/args|all/.test(b),fail:!b||!/fail|all/.test(b),group:!b||!/group|all/.test(b),state:!b||!/state|all/.test(b),misc:!b||!/misc|all/.test(b)},d={start:!!c&&/start|all/.test(c),args:!!c&&/args|all/.test(c),fail:!!c&&/fail|all/.test(c),group:!!c&&/group|all/.test(c),state:!!c&&/state|all/.test(c),misc:!!c&&/misc|all/.test(c)};
this.classTitle=a;this.getType=function(a){return!!e[a]};this.getBugger=function(a){return!!d[a]};this.setType=function(a,b){if("string"===typeof a&&"boolean"===typeof b&&(a=a.toLowerCase(),e.hasOwnProperty(a)||"all"===a)){if("all"===a)for(a in e)e.hasOwnProperty(a)&&(e[a]=b);else e[a]=b;return!0}return!1};this.setBugger=function(a,b){if("string"===typeof a&&"boolean"===typeof b&&(a=a.toLowerCase(),d.hasOwnProperty(a)||"all"===a)){if("all"===a)for(a in d)d.hasOwnProperty(a)&&(d[a]=b);else d[a]=b;
return!0}return!1}};h.prototype.constructor=h;h.prototype.start=function(a){var b,c;if(Array.isArray(a)?"string"!==typeof a[0]:"string"!==typeof a){console.error("A debug.start method's arg(s) was wrong.");if(f)debugger;return!1}if(!this.getType("start"))return!1;"string"===typeof a?b=1<arguments.length?Array.prototype.slice.call(arguments,1):null:(b=1<a.length?a.slice(1):null,a=a[0]);c="START: "+this.classTitle+a+"(";b&&b.forEach(function(a,b){c+=(b?", ":"")+m(a)});c+=")";b?(b.unshift(c),console.log.apply(console,
b)):console.log(c);if(this.getBugger("start"))debugger;return!0};h.prototype.args=function(a){var b,c;if(!("string"===typeof a?2<arguments.length:Array.isArray(a)&&"string"===typeof a[0]&&2<a.length)){console.error("A debug.args method's arg(s) was wrong.");if(f)debugger;return!1}if(!this.getType("args"))return!1;"string"===typeof a?b=Array.prototype.slice.call(arguments,1):(b=a.slice(1),a=a[0]);if(b.every(function(a,c){return c%2?g(b[c-1],a):!0}))return!1;c="ARGS: "+this.classTitle+a+"() | ";console.error(c+
"Error: Incorrect argument data type.");if(this.getBugger("args"))debugger;return!0};h.prototype.fail=function(a,b,c){var e;if("string"===typeof a?"string"!==typeof c:!Array.isArray(a)||"string"!==typeof a[0]||"string"!==typeof a[2]){console.error("A debug.fail method's arg(s) was wrong.");if(f)debugger;return!1}if(!this.getType("fail"))return!1;"string"===typeof a?(b="function"===typeof b?!!b():!!b,e=3<arguments.length?Array.prototype.slice.call(arguments,3):null):(b="function"===typeof a[1]?!!a[1]():
!!a[1],c=a[2],e=3<a.length?a.slice(3):null,a=a[0]);if(b)return!1;e&&(c=l(c,e));c="FAIL: "+this.classTitle+a+"() | "+c;e?(e.unshift(c),console.error.apply(console,e)):console.error(c);if(this.getBugger("fail"))debugger;return!0};h.prototype.group=function(a,b,c){var e;if(!("string"===typeof a?g(b,"string=")&&g(c,"string="):Array.isArray(a)&&"string"===typeof a[0]&&g(a[1],"string=")&&g(a[2],"string="))){console.error("A debug.group method's arg(s) was wrong.");if(f)debugger;return!1}if(!this.getType("group"))return!1;
"string"===typeof a?(b=b||"coll",c=c||"",e=3<arguments.length?Array.prototype.slice.call(arguments,3):null):(b=a[1]||"coll",c=a[2]||"",e=3<a.length?a.slice(3):null,a=a[0]);if("end"===b)return console.groupEnd(),!0;if("open"!==b&&"coll"!==b){console.error("A debug.group method's openGroup arg was wrong. The supplied openGroup argument was '%s'.",b);if(f)debugger;return!1}c&&(e&&(c=l(c,e)),c=" | "+c);c="GROUP: "+this.classTitle+a+"()"+c;e?e.unshift(c):e=[c];"coll"===b?console.groupCollapsed.apply(console,
e):console.group.apply(console,e);if(this.getBugger("group"))debugger;return!0};h.prototype.state=function(a,b){var c;if(!("string"===typeof a?"string"===typeof b&&2<arguments.length:Array.isArray(a)&&"string"===typeof a[0]&&2<a.length&&"string"===typeof a[1])){console.error("A debug.state method's arg(s) was wrong.");if(f)debugger;return!1}if(!this.getType("state"))return!1;"string"===typeof a?c=Array.prototype.slice.call(arguments,2):(b=a[1],c=a.slice(2),a=a[0]);b=l(b,c);b="STATE: "+this.classTitle+
a+"() | "+b;c.unshift(b);console.log.apply(console,c);if(this.getBugger("state"))debugger;return!0};h.prototype.misc=function(a,b){var c;if("string"===typeof a?"string"!==typeof b:!Array.isArray(a)||"string"!==typeof a[0]||"string"!==typeof a[1]){console.error("A debug.misc method's arg(s) was wrong.");if(f)debugger;return!1}if(!this.getType("misc"))return!1;"string"===typeof a?c=2<arguments.length?Array.prototype.slice.call(arguments,2):null:(b=a[1],c=2<a.length?a.slice(2):null,a=a[0]);c&&(b=l(b,
c));b="MISC: "+this.classTitle+a+"() | "+b;c?(c.unshift(b),console.log.apply(console,c)):console.log(b);if(this.getBugger("misc"))debugger;return!0};h.prototype.turnOn=function(a){var b,c,e,d;if(!a){console.error("A debug.turnOn method received no args.");if(f)debugger;return!1}a=(b=g(a,"strings")&&1<a.length?a.slice(0):1<arguments.length?Array.prototype.slice.call(arguments,0):null)?null:"string"===typeof a?a:g(a,"strings")?a[0]:null;if(!(a||b&&g(b,"strings"))){console.error("A debug.turnOn method's arg(s) was the wrong data type.");
if(f)debugger;return!1}a&&/\s/.test(a)&&(b=a.split(" "),a=null);if(b){c=b.length;for(e=-1;++e<c;)this.setType(b[e],!0)||(d||(d=[]),d.push("'"+b[e]+"'"));d&&(d=d.join(", "))}else this.setType(a,!0)||(d="'"+a+"'");if(d){console.error("A debug.turnOn method was given an invalid debug category to turn on. The incorrect value(s) follow:"+d);if(f)debugger;return!1}return!0};h.prototype.turnOff=function(a){var b,c,e,d;if(!a){console.error("A debug.turnOff method received no args.");if(f)debugger;return!1}a=
(b=g(a,"strings")&&1<a.length?a.slice(0):1<arguments.length?Array.prototype.slice.call(arguments,0):null)?null:"string"===typeof a?a:g(a,"strings")?a[0]:null;if(!(a||b&&g(b,"strings"))){console.error("A debug.turnOff method's arg(s) was the wrong data type.");if(f)debugger;return!1}a&&/\s/.test(a)&&(b=a.split(" "),a=null);if(b){c=b.length;for(e=-1;++e<c;)this.setType(b[e],!1)||(d||(d=[]),d.push("'"+b[e]+"'"));d&&(d=d.join(", "))}else this.setType(a,!1)||(d="'"+a+"'");if(d){console.error("A debug.turnOff method was given an invalid debug category to turn off. The incorrect value(s) follow:"+
d);if(f)debugger;return!1}return!0};h.prototype.turnOnDebugger=function(a){var b,c,e,d;if(!a){console.error("A debug.turnOnDebugger method received no args.");if(f)debugger;return!1}a=(b=g(a,"strings")&&1<a.length?a.slice(0):1<arguments.length?Array.prototype.slice.call(arguments,0):null)?null:"string"===typeof a?a:g(a,"strings")?a[0]:null;if(!(a||b&&g(b,"strings"))){console.error("A debug.turnOnDebugger method's arg(s) was the wrong data type.");if(f)debugger;return!1}a&&/\s/.test(a)&&(b=a.split(" "),
a=null);if(b){c=b.length;for(e=-1;++e<c;)this.setBugger(b[e],!0)||(d||(d=[]),d.push("'"+b[e]+"'"));d&&(d=d.join(", "))}else this.setBugger(a,!0)||(d="'"+a+"'");if(d){d="A debug.turnOnDebugger method was given an invalid debug category to turn on. The incorrect value(s) follow:"+d;console.error(d);if(f)debugger;return!1}return!0};h.prototype.turnOffDebugger=function(a){var b,c,e,d;if(!a){console.error("A debug.turnOffDebugger method received no args.");if(f)debugger;return!1}a=(b=g(a,"strings")&&1<
a.length?a.slice(0):1<arguments.length?Array.prototype.slice.call(arguments,0):null)?null:"string"===typeof a?a:g(a,"strings")?a[0]:null;if(!(a||b&&g(b,"strings"))){console.error("A debug.turnOffDebugger method's arg(s) was the wrong data type.");if(f)debugger;return!1}a&&/\s/.test(a)&&(b=a.split(" "),a=null);if(b){c=b.length;for(e=-1;++e<c;)this.setBugger(b[e],!1)||(d||(d=[]),d.push("'"+b[e]+"'"));d&&(d=d.join(", "))}else this.setBugger(a,!1)||(d="'"+a+"'");if(d&&(d="A debug.turnOffDebugger method was given an invalid debug category to turn off. The incorrect value(s) follow:"+
d,console.error(d),f))debugger;return!1};Object.keys||(Object.keys=function(a){var b,c;b=!{toString:null}.propertyIsEnumerable("toString");c="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" ");return function(a){if("object"!==typeof a&&"function"!==typeof a)throw new TypeError("Object.keys only accepts objects.");if(null===a)throw new TypeError("Object.keys does not accept null types.");var d,f;f=[];for(d in a)a.hasOwnProperty(d)&&f.push(d);if(b)for(d=
c.length;d--;)a.hasOwnProperty(c[d])&&f.push(c[d]);return f}}());Object.freeze||(Object.freeze=function(a){if("object"!==typeof a&&"function"!==typeof a)throw new TypeError("Object.freeze only accepts objects.");return a});try{Object.freeze(function(){})}catch(q){Object.freeze=function(a){return function(b){return"function"===typeof b?b:a(b)}}(Object.freeze)}return p}());
